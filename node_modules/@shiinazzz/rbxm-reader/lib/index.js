"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseBuffer = void 0;
const ByteReader_1 = __importDefault(require("./ByteReader"));
const BinaryParser_1 = __importDefault(require("./BinaryParser"));
function parseBuffer(buffer) {
    const reader = new ByteReader_1.default(buffer);
    if (reader.String(7) !== "<roblox") {
        throw new Error("Not a valid RBXM file");
    }
    if (reader.Byte() === 0x21) {
        return BinaryParser_1.default.parse(buffer);
    }
    throw new Error("XML not supported.");
}
exports.parseBuffer = parseBuffer;
